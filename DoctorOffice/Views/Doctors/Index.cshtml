@{
  Layout = "_Layout";
}

@using DoctorOffice.Models;

<h1 class="my-4">Our Doctors</h1>

@* @if (@Model.Count == 0)
{
  <h3>No doctors have been added yet!</h3>
} *@
<table class="table table-hover">
  <thead>
    <tr>
      <th scope="col">Name</th>
      <th scope="col">Speciality</th>
      <th scope="col">Patient Amount</th>
    </tr>
  </thead>
  <tbody>
    <tr class="table-active">
      @foreach (Doctor doctor in @Model)
      {
        <tr>
        <th>@Html.ActionLink($"{doctor.Name}", "Details", new { id = doctor.DoctorId }, new { @class = "text-black"})</th>
        <th>
          @foreach(var speciality in @doctor.JoinEntities2)
          {
            @speciality.speciality.Name
            <br>
          }
        </th>
        <th>@doctor.JoinEntities.Count()</th>
        </tr> 
      }     
    </tr>
  </tbody>
</table>
</ul>

@Html.ActionLink("Add new Doctor", "Create", new {area = ""}, new { @class = "btn btn-secondary btn-sm my-3 mr-4" })
@Html.ActionLink("Home", "Index", "Home", new {area = ""}, new { @class = "btn btn-secondary btn-sm my-3 mx-4" })
